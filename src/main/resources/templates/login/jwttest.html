<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <button id="jwttest">JWT 필터로 보내기</button>
    <button id="jwtremove">JWT 삭제</button>
</body>
</html>


<script>
    document.getElementById("jwttest").addEventListener("click", function() {
        // 로컬 스토리지에서 토큰을 가져옵니다.
        var token = localStorage.getItem("Authorization");

        // fetch 요청을 생성합니다.
        fetch("/", {
            method: "GET",
            headers: {
                "Authorization": token // 토큰을 Authorization 헤더에 추가합니다.
            }
        })
        .then(response => {
            // 응답을 처리합니다.
            if (response.ok) {
                alert("토큰이 전달되었습니다."); // 성공적으로 토큰이 전달되었음을 알립니다.
                window.location.href = "/"; // 페이지를 이동합니다.
            } else {
                throw new Error("토큰 전달에 실패했습니다."); // 실패했을 경우 에러를 던집니다.
            }
        })
        .catch(error => {
            console.error("에러:", error);
            alert("에러가 발생했습니다.");
        });
    });


       document.getElementById("jwtremove").addEventListener("click", function() {
            // 로컬 스토리지에서 'jwt' 키에 해당하는 데이터를 제거합니다.
            localStorage.removeItem('jwt');
            localStorage.removeItem('Authorization');
            alert("JWT가 제거되었습니다."); // 제거 완료 메시지를 표시합니다.
        });


</script>